(window.webpackJsonp=window.webpackJsonp||[]).push([["webCore"],{"./node_modules/@qlean/web-core/dist/web-core.esm.js":
/*!***********************************************************!*\
  !*** ./node_modules/@qlean/web-core/dist/web-core.esm.js ***!
  \***********************************************************/
/*! exports provided: Bus, PERMANENT_NOTIFICATION_HIDE_REQUEST, PERMANENT_NOTIFICATION_SHOW_REQUEST, REGION_CHANGE, TOOLTIP_SHOW_REQUEST, TRACK_ANALYTIC_EVENT, USER_LOGIN_REQUEST, USER_LOGIN_SUCCESS, USER_LOGOUT_REQUEST, USER_LOGOUT_SUCCESS, WIDGET_MOUNTED, cookieService, fetcherPure, fetcherWithAuth, formatPhone, formatPhoneHref, getAggregateRating, getFAQ, getFromMocks, getHowTo, getOffers, getProduct, getReview, getScripts, pluralize, trackAnalyticEvent */function(e,n,t){"use strict";t.r(n),t.d(n,"Bus",(function(){return O})),t.d(n,"PERMANENT_NOTIFICATION_HIDE_REQUEST",(function(){return j})),t.d(n,"PERMANENT_NOTIFICATION_SHOW_REQUEST",(function(){return L})),t.d(n,"REGION_CHANGE",(function(){return C})),t.d(n,"TOOLTIP_SHOW_REQUEST",(function(){return k})),t.d(n,"TRACK_ANALYTIC_EVENT",(function(){return I})),t.d(n,"USER_LOGIN_REQUEST",(function(){return y})),t.d(n,"USER_LOGIN_SUCCESS",(function(){return P})),t.d(n,"USER_LOGOUT_REQUEST",(function(){return R})),t.d(n,"USER_LOGOUT_SUCCESS",(function(){return A})),t.d(n,"WIDGET_MOUNTED",(function(){return Q})),t.d(n,"cookieService",(function(){return v})),t.d(n,"fetcherPure",(function(){return c})),t.d(n,"fetcherWithAuth",(function(){return N})),t.d(n,"formatPhone",(function(){return W})),t.d(n,"formatPhoneHref",(function(){return q})),t.d(n,"getAggregateRating",(function(){return M})),t.d(n,"getFAQ",(function(){return H})),t.d(n,"getFromMocks",(function(){return J})),t.d(n,"getHowTo",(function(){return D})),t.d(n,"getOffers",(function(){return V})),t.d(n,"getProduct",(function(){return G})),t.d(n,"getReview",(function(){return B})),t.d(n,"getScripts",(function(){return b})),t.d(n,"pluralize",(function(){return F})),t.d(n,"trackAnalyticEvent",(function(){return U}));var r=t(/*! isomorphic-unfetch */"./node_modules/isomorphic-unfetch/browser.js"),o=t.n(r),u=t(/*! js-cookie */"./node_modules/js-cookie/src/js.cookie.js"),i=t.n(u),c=function(e,n){try{return Promise.resolve(o()(e,n)).then((function(e){return Promise.resolve(e.json()).then((function(n){if(200!==e.status)throw Error(n.message);return n}))}))}catch(e){return Promise.reject(e)}};function s(){return(s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function a(e,n){if(null==e)return{};var t,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)t=u[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}var f=function(e,n){var t=e||{},r=t.method,o=t.url,u=t.status,i=t.statusText;this.name="NetworkError",this.statusText=i||null,this.status=u||null,this.data=n||null,this.request={method:r,url:o},this.stack=(new Error).stack};f.prototype=Object.create(Error.prototype);var E,T=function(e,n){try{var t=function(n){return r?n:e.text()},r=!1,o=e.headers.get("content-type")||"",u=function(){if(o.includes("application/json"))return Promise.resolve(e.json()).then((function(e){return r=!0,n?n(e):e}))}();return Promise.resolve(u&&u.then?u.then(t):t(u))}catch(e){return Promise.reject(e)}};!function(e){e.GET="GET",e.PUT="PUT",e.PATCH="PATCH",e.POST="POST",e.DELETE="DELETE"}(E||(E={}));var d=!1,l=[],h=function(e){return new Promise((function(e,n){l.push({resolve:e,reject:n})})).then((function(n){return e(n)})).then((function(e){return T(e)})).catch((function(e){return Promise.reject(e)}))},p=function(e){var n=e.baseUrl,t=e.ssoUrl,r=e.getRefreshToken,o=e.getAccessToken,u=e.onRefresh,i=e.requestDataTransformer,c=e.responseDataTransformer,a=r(),p=o(),v=function(e,r,o,E){void 0===E&&(E={});try{var v=s({},E,{headers:s({"content-type":"application/json"},E.headers),method:e,body:o?JSON.stringify(i?i(o):o):null}),_=function(e){return fetch(""+n+r,s({},v,{headers:s({},e?{Authorization:e}:{},v.headers)}))};return d?Promise.resolve(h(_)):Promise.resolve(_(p).then((function(e){return 419===e.status?d?h(_):(d=!0,(n=a,fetch(""+t+n).then((function(e){return e.json()})).then((function(e){var n=e.refreshToken,t=e.accessToken;return u({accessToken:t,refreshToken:n}),{refreshToken:n,accessToken:t}}))).then((function(e){var n=e.accessToken;try{return Promise.resolve(_(n)).then((function(e){var t,r;return t=null,r=n,d=!1,l.forEach((function(e){var n=e.reject,o=e.resolve;t?n(t):o(r)})),l=[],e}))}catch(e){return Promise.reject(e)}}))):e;var n}))).then((function(e){return e.ok?T(e,c):Promise.resolve(T(e,c)).then((function(n){throw new f(e,n)}))}))}catch(e){return Promise.reject(e)}};return{get:function(e,n){return v(E.GET,e,null,n)},put:function(e,n,t){return v(E.PUT,e,n,t)},patch:function(e,n,t){return v(E.PATCH,e,n,t)},post:function(e,n,t){return v(E.POST,e,n,t)},delete:function(e,n){return v(E.DELETE,e,null,n)}}},v={set:function(){return i.a.set.apply(i.a,arguments)},get:function(e){return i.a.get(e)},remove:function(){return i.a.remove.apply(i.a,arguments)}},_={domain:".qlean.ru"},m=s({expires:365},_),g=function(){v.remove("accessToken",s({},_)),v.remove("refreshToken",s({},_)),v.remove("accessToken",{domain:"qlean.ru"}),v.remove("refreshToken",{domain:"qlean.ru"})},S={getAccessToken:function(){return v.get("accessToken")},getRefreshToken:function(){return v.get("refreshToken")},onRefresh:function(e){var n,t=e.accessToken,r=e.refreshToken;(n=t)?v.set("accessToken",n,m):g(),function(e){e?v.set("refreshToken",e,m):g()}(r)}},N=function(e){try{return Promise.resolve(function(e){try{var n=e.method,t=e.url,r=e.data,o=e.params,u=e.baseUrl,i=e.ssoUrl,c=t;if(o){var a=Object.keys(o).map((function(e){return e+"="+o[e]})).join("&");a&&(c+="?"+a)}var f=n.toLowerCase(),E=p(s({baseUrl:u,ssoUrl:i},S));if("get"===f||"delete"===f){var T=E[f](c);return Promise.resolve(T)}var d=E[f](c,r);return Promise.resolve(d)}catch(e){return Promise.reject(e)}}(e).catch(Promise.reject))}catch(e){return Promise.reject(e)}};function U(e){var n;null===(n=window.dataLayer)||void 0===n||n.push(e)}var w=function(e,n){console.log("ðŸšŽ "+e,n)};var O={emit:function(e,n){var t=new CustomEvent(e,{detail:n});w(e+" :",n||"no payload"),window.document.dispatchEvent(t)},on:function(e,n){var t=function(t){if(!(t instanceof CustomEvent))throw new TypeError("Unknown type of event "+e+": "+t);n(t.detail)};return window.document.addEventListener(e,t),w("subscribe on "+e),function(){window.document.removeEventListener(e,t),w("Unsubscribe from "+e)}}},y="__QLEAN_BUS_EVENT/USER_LOGIN_REQUEST",P="__QLEAN_BUS_EVENT/USER_LOGIN_SUCCESS",R="__QLEAN_BUS_EVENT/USER_LOGOUT_REQUEST",A="__QLEAN_BUS_EVENT/USER_LOGOUT_SUCCESS",C="__QLEAN_BUS_EVENT/REGION_CHANGE",k="__QLEAN_BUS_EVENT/TOOLTIP_SHOW_REQUEST",L="__QLEAN_BUS_EVENT/PERMANENT_NOTIFICATION_SHOW_REQUEST",j="__QLEAN_BUS_EVENT/PERMANENT_NOTIFICATION_HIDE_REQUEST",I="__QLEAN_BUS_EVENT/TRACK_ANALYTIC_EVENT",Q="__QLEAN_BUS_EVENT/WIDGET_MOUNTED";function b(e){return e.map((function(e){return'<script type="application/ld+json">'+JSON.stringify(e)+"<\/script>"}))}function G(e,n){return void 0===n&&(n="https://schema.org"),{"@context":n,"@type":"Product",url:e.url,name:e.title,description:e.description,offers:e.offers,aggregateRating:e.aggregateRating,review:e.review}}function H(e,n){return void 0===n&&(n="https://schema.org"),{"@context":n,"@type":"FAQPage",mainEntity:e.map((function(e){return{"@type":"Question",name:e.question,acceptedAnswer:[{"@type":"Answer",text:e.answer}]}}))}}function D(e,n){return void 0===n&&(n="https://schema.org"),{"@context":n,"@type":"HowTo",name:e.title,step:e.steps.map((function(e){return{"@type":"HowToStep",name:e.caption,text:e.description}}))}}function V(e){var n=e.prices;return{"@type":"AggregateOffer",priceCurrency:e.currency,lowPrice:Math.min.apply(Math,n),offerCount:n.length}}function x(e){return{"@type":"Rating",ratingValue:e.rating,bestRating:e.bestRating,worstRating:e.worstRating}}function B(e){return e.map((function(e){var n,t=e.text,r=e.author;return{"@type":"Review",reviewBody:t,reviewRating:x(a(e,["text","author"])),author:(n=r,{"@type":"Person",name:n})}}))}function M(e){var n=e.ratingCount,t=e.reviewCount,r=a(e,["ratingCount","reviewCount"]);return s({"@type":"AggregateRating",ratingCount:n,reviewCount:t},a(x(r),["@type"]))}var W=function(e){var n=e.toString();return n.replace(/\D/g,"").replace(/(\d{1})(\d{3})(\d{3})(\d{2})(\d{2})/,(n.startsWith("8")?"":"+")+"$1Â ($2)Â $3â€‘$4â€‘$5")},q=function(e){var n=e.toString();return"tel:"+(n.startsWith("8")?"":"+")+n.replace(/\D/g,"")};function F(e,n){var t=e[0],r=e[1],o=e[2],u=Math.abs(n%100);return 1===(u=u>20?u%10:u)?t:u>1&&u<5?r:o}function $(e){var n=e.toString();return""+n.slice(0,1).toUpperCase()+n.slice(1)}function J(e){var n,t,r,o=e.mocks,u=e.domain,i=e.pageSlug,c=e.region,s=e.promo,a=void 0===s?"":s,f=e.unitKey,E=void 0===f?"":f,T=o[u][i],d=null!==(n=T["promo"+$(a)])&&void 0!==n?n:T.promoCommon,l=null!==(t=d["region"+$(c)])&&void 0!==t?t:d.regionCommon;return null!==(r=l["unit"+$(E)])&&void 0!==r?r:l.unitCommon}}}]);
//# sourceMappingURL=webCore.v3.1.1_0.10.0.js.map